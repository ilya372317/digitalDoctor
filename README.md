## Сайт на Laravel

Ниже я опишу реализацию двух паттернов проектирования, один встроенный в laravel, а другой реализован самостоятельно.

### Reprository

Реализация паттерна проектирования reprository в данном случае понимается под неким классом,
реализующим возможность забирать уже подготовленные данные из моделиБ, а не классом, позволяющем в теории переключить в любой момент базу данных с MySql на PostorageSql.

Абстрактный класс coreReprository реализует подключение к конкретной модели. Дальше его расширяют остальные классы reprository.
app/reprositories/coreReprository.php

Реализованны репрозитории для категорий, постов, и пользователей.

В реализациях BlogPostReprository и BlogCategoryReprository присутствует механизм отложенной выгрузки данных, а потом состовления старницы. Что позволяет сократить колличество запросов к базе данных с 48 до 4. Для этого в моделях постов и категория реализованна связь один ко многом, и метод with() позволяет нам обратившись к нужной нам связи, сначала получить данные, а потом составить страницу.

Паттерн проектирования Reprository был выбран, что бы в случае необходимости выгрести какие либо данные из модели, это происходило не хаотично, в контроллере или где либо еще, а был единый механизм забора данных и выдачи. Это позволит в дальнейшем безпрепятственно расширять функционал нынешних репрозиториев, и в случае необходимости изменить какой либо алгоритм, не придется делать это по всему проекту.

Конкретное приминение можно найти в контроллерах для админки app/Http/admin/blog/{Blog...Controller.php}


### Observer

Применение встроенного в Laravel паттерна проектирования наблюдатель. Листинги находятся в папке app/Observers
Наблюдатели, реагируя на различные действия с постами и категориями запускают вспомогательная медоты. их список:

- **$this->setSlug($blogPostModels);**
- **$this->setPublishTime($blogPostModels);**
- **$this->unSetPublishTime($blogPostModels);**
- **$this->setUser($blogPostModels);**
- **$this->setHtml($blogPostModels);**

Таким образом, мы опять выносим логику подальше от контроллера. Так же реализовав один раз эти методы, можем использовать их и при создании, и при удалении и при редактировании записей.



